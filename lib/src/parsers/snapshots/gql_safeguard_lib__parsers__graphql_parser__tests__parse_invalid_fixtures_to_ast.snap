---
source: lib/src/parsers/graphql_parser.rs
expression: result
---
File: fixtures/invalid/missing_catch.tsx
GraphQL AST items: 1

=== AST Item 1 ===
Type: Query
Name: GetUserProfileUnprotected
File: fixtures/invalid/missing_catch.tsx
Directives: 0
Selections: 1
    - Field: user
      - Field: id
      - Field: name
      - Field: avatar [ThrowOnFieldError ‚òÑÔ∏è]
      - Field: email

---

File: fixtures/invalid/partial_protection.ts
GraphQL AST items: 1

=== AST Item 1 ===
Type: Fragment
Name: ProtectedFragment
File: fixtures/invalid/partial_protection.ts
Directives: 1
  - Catch üß§
Type Condition: on User
Selections: 2
    - Field: sensitiveData [ThrowOnFieldError ‚òÑÔ∏è]
    - Field: otherData

---

File: fixtures/invalid/partial_protection.ts
GraphQL AST items: 1

=== AST Item 1 ===
Type: Fragment
Name: UnprotectedFragment
File: fixtures/invalid/partial_protection.ts
Directives: 0
Type Condition: on User
Selections: 2
    - Field: riskyField [ThrowOnFieldError ‚òÑÔ∏è]
    - Field: normalField

---

File: fixtures/invalid/partial_protection.ts
GraphQL AST items: 1

=== AST Item 1 ===
Type: Query
Name: MixedQuery
File: fixtures/invalid/partial_protection.ts
Directives: 0
Selections: 1
    - Field: user
      - Field: id
      - FragmentSpread: ProtectedFragment
      - FragmentSpread: UnprotectedFragment

---

File: fixtures/invalid/unprotected_nested.ts
GraphQL AST items: 1

=== AST Item 1 ===
Type: Fragment
Name: UserBasicInfoUnprotected
File: fixtures/invalid/unprotected_nested.ts
Directives: 0
Type Condition: on User
Selections: 3
    - Field: id
    - Field: name [ThrowOnFieldError ‚òÑÔ∏è]
    - Field: email

---

File: fixtures/invalid/unprotected_nested.ts
GraphQL AST items: 1

=== AST Item 1 ===
Type: Fragment
Name: UserAvatarUnprotected
File: fixtures/invalid/unprotected_nested.ts
Directives: 1
  - ThrowOnFieldError ‚òÑÔ∏è
Type Condition: on User
Selections: 2
    - Field: avatar
    - Field: avatarUrl

---

File: fixtures/invalid/unprotected_nested.ts
GraphQL AST items: 1

=== AST Item 1 ===
Type: Fragment
Name: UserDetailsUnprotected
File: fixtures/invalid/unprotected_nested.ts
Directives: 0
Type Condition: on User
Selections: 3
    - FragmentSpread: UserBasicInfoUnprotected
    - FragmentSpread: UserAvatarUnprotected
    - Field: bio

---

File: fixtures/invalid/unprotected_nested.ts
GraphQL AST items: 1

=== AST Item 1 ===
Type: Query
Name: GetFullUserUnprotected
File: fixtures/invalid/unprotected_nested.ts
Directives: 0
Selections: 1
    - Field: user
      - FragmentSpread: UserDetailsUnprotected

---

File: fixtures/invalid/unprotected_required_throw.ts
GraphQL AST items: 1

=== AST Item 1 ===
Type: Query
Name: GetUserUnprotected
File: fixtures/invalid/unprotected_required_throw.ts
Directives: 0
Selections: 1
    - Field: user
      - Field: id
      - Field: name [RequiredThrow ‚òÑÔ∏è]
      - Field: email

---

File: /Users/jannicklas/Desktop/gql-safeguard/fixtures/invalid/unprotected_required_throw.ts
GraphQL Parse Error: GraphQL syntax error in /Users/jannicklas/Desktop/gql-safeguard/fixtures/invalid/unprotected_required_throw.ts at position 345: ParseError("Parse error at 5:38\nUnexpected unexpected character '/'\nExpected }\n")
Content: 
  query GetUserPartial($id: ID!) {
    user(id: $id) @catch {
      id
      name @required(action: THROW)  // ‚úÖ Protected
      email
    }
    otherUser: user(id: "other") {
      name @required(action: THROW)  // ‚ùå Unprotected
    }
  }


---

File: /Users/jannicklas/Desktop/gql-safeguard/fixtures/invalid/unprotected_required_throw.ts
GraphQL Parse Error: GraphQL syntax error in /Users/jannicklas/Desktop/gql-safeguard/fixtures/invalid/unprotected_required_throw.ts at position 669: ParseError("Parse error at 5:38\nUnexpected unexpected character '/'\nExpected }\n")
Content: 
  query GetUserMixedUnprotected($id: ID!) {
    user(id: $id) {
      id
      name @required(action: THROW)  // ‚ùå Unprotected
      avatar @throwOnFieldError      // ‚ùå Unprotected
    }
  }
